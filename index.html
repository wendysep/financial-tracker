<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial Tracker</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #4CAF50;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        tr:hover {
            background-color: #ddd;
        }
        .navigation {
            margin-bottom: 20px;
        }
        .navigation button {
            margin-right: 10px;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        .navigation button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        class FinancialTracker extends React.Component {
            constructor(props) {
                super(props);
                this.state = {
                    users: {},
                    currentUser: null,
                    currentPage: 'main',
                    currentMonth: null,
                    transactions: {}, // Keyed by month
                };
            }

            registerUser = () => {
                const username = prompt('Enter username:');
                const password = prompt('Enter password:');
                if (username && password) {
                    const users = { ...this.state.users };
                    if (!users[username]) {
                        users[username] = {
                            password,
                            incomeDetails: {},
                            expenseDetails: {},
                            savingsDetails: {},
                            debtDetails: {},
                            billDetails: {},
                        };
                        this.setState({ users });
                        alert('User registered successfully!');
                    } else {
                        alert('Username already exists.');
                    }
                } else {
                    alert('Please provide both username and password.');
                }
            };

            loginUser = () => {
                const username = prompt('Enter username:');
                const password = prompt('Enter password:');
                const user = this.state.users[username];
                if (user && user.password === password) {
                    this.setState({ currentUser: username });
                } else {
                    alert('Invalid username or password.');
                }
            };

            navigateTo = (page, month = null) => {
                this.setState({ currentPage: page, currentMonth: month });
            };

            addTransaction = (month, transaction) => {
                const transactions = { ...this.state.transactions };
                if (!transactions[month]) {
                    transactions[month] = [];
                }
                transactions[month].push(transaction);
                this.setState({ transactions });
            };

            renderMainPage = () => {
                const months = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
                return (
                    <div>
                        <h2>Main Page</h2>
                        <div className="navigation">
                            {months.map((month) => (
                                <button key={month} onClick={() => this.navigateTo('transactions', month)}>
                                    {month}
                                </button>
                            ))}
                        </div>
                        <h3>Summary</h3>
                        {/* Totals and summaries based on transactions can be displayed here */}
                    </div>
                );
            };

            renderTransactionPage = () => {
                const { currentMonth, transactions } = this.state;
                if (!currentMonth) return null;

                return (
                    <div>
                        <h2>Transactions for {currentMonth}</h2>
                        <button onClick={() => this.navigateTo('main')}>Back to Main</button>
                        <form
                            onSubmit={(e) => {
                                e.preventDefault();
                                const description = e.target.elements.description.value;
                                const amount = parseFloat(e.target.elements.amount.value);
                                const category = e.target.elements.category.value;
                                if (!isNaN(amount)) {
                                    this.addTransaction(currentMonth, { description, amount, category });
                                    e.target.reset();
                                } else {
                                    alert('Invalid amount!');
                                }
                            }}
                        >
                            <div>
                                <label>
                                    Description: <input type="text" name="description" required />
                                </label>
                            </div>
                            <div>
                                <label>
                                    Amount: <input type="number" name="amount" required />
                                </label>
                            </div>
                            <div>
                                <label>
                                    Category: <input type="text" name="category" required />
                                </label>
                            </div>
                            <button type="submit">Add Transaction</button>
                        </form>

                        <h3>Transaction List</h3>
                        <table>
                            <thead>
                                <tr>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Category</th>
                                </tr>
                            </thead>
                            <tbody>
                                {(transactions[currentMonth] || []).map((transaction, index) => (
                                    <tr key={index}>
                                        <td>{transaction.description}</td>
                                        <td>${transaction.amount.toFixed(2)}</td>
                                        <td>{transaction.category}</td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                );
            };

            render() {
                const { currentUser, currentPage } = this.state;

                if (!currentUser) {
                    return (
                        <div>
                            <button onClick={this.registerUser}>Register</button>
                            <button onClick={this.loginUser}>Login</button>
                        </div>
                    );
                }

                if (currentPage === 'main') {
                    return this.renderMainPage();
                }

                if (currentPage === 'transactions') {
                    return this.renderTransactionPage();
                }

                return null;
            }
        }

        ReactDOM.render(<FinancialTracker />, document.getElementById('root'));
    </script>
</body>
</html>
